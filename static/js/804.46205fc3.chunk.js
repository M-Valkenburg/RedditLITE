"use strict";(self.webpackChunkreddit_lite=self.webpackChunkreddit_lite||[]).push([[804],{3804:function(e,s,n){n.r(s),n.d(s,{default:function(){return f}});var t=n(9439),i=n(2791),a=n(9434),l=n(9126),r=n(6355),c=n(828),d=n(2426),o=n.n(d),m=n(3853),h=n(8356),x=n(1926),u=n(184);function j(e){var s=e.post,n=function(){document.getElementById(s.id).style.display="none"},t=function(){var e=document.getElementById(s.id+"text");e.style.overflow="none",e.style.maxHeight="100%"};if(!s.hint&&s.url.includes("www.reddit.com")&&!s.is_gallery)return(0,u.jsxs)("div",{className:"text-container",id:s.id+"text",onClick:t,children:[(0,u.jsx)("div",{className:"content-text",children:(0,u.jsx)(h.D,{remarkPlugins:[x.Z],children:s.selftext})}),(0,u.jsx)("div",{className:"text-overlay",id:s.id,onClick:n})]});if(""!==s.selftext)return(0,u.jsxs)("div",{className:"text-container",id:s.id+"text",onClick:t,children:[(0,u.jsx)("div",{className:"content-text",children:(0,u.jsx)(h.D,{remarkPlugins:[x.Z],children:s.selftext})}),(0,u.jsx)("div",{className:"text-overlay",id:s.id,onClick:n})]});if("image"===s.post_hint)return(0,u.jsxs)("div",{className:"image-container",onClick:n,children:[(0,u.jsx)("img",{className:"content-img",src:s.url,alt:"",loading:"lazy",decoding:"async"}),s.over_18&&(0,u.jsx)("div",{className:"nsfw-content",id:s.id,children:(0,u.jsxs)("span",{children:["nsfw",(0,u.jsx)("br",{}),"click to view"]})})]});if("hosted:video"===s.post_hint)return(0,u.jsxs)("div",{className:"video-container",onClick:n,children:[(0,u.jsx)("video",{className:"content-video",src:s.media.reddit_video.fallback_url,preload:"metadata",controls:!0}),s.over_18&&(0,u.jsx)("div",{className:"nsfw-content",id:s.id,children:(0,u.jsxs)("span",{children:["nsfw",(0,u.jsx)("br",{}),"click to view"]})})]});if("link"===s.post_hint||!0===s.is_gallery||"rich:video"===s.post_hint||!s.hint){var i,a=s.url;return a.startsWith("https://www.")?i=a.replace("https://www.","").substring(0,20)+"...":a.startsWith("https://www-")?i=a.replace("https://www-","").substring(0,20)+"...":a.startsWith("https://")&&(i=a.replace("https://","").substring(0,20)+"..."),"default"===s.thumbnail||"nsfw"===s.thumbnail||""===s.thumbnail?(0,u.jsxs)("a",{target:"_blank",href:a,alt:s.title,rel:"noreferrer noopener",children:[i,"\xa0",(0,u.jsx)(m.AlO,{className:"link-icon"})]}):(0,u.jsxs)("div",{className:"link-container",children:[(0,u.jsx)("a",{target:"_blank",href:a,alt:s.title,rel:"noreferrer noopener",children:(0,u.jsxs)("div",{className:"thumbnail-container",children:[(0,u.jsx)("img",{className:"link-image",src:s.thumbnail,alt:""}),s.over_18&&(0,u.jsx)("div",{className:"nsfw-content"})]})}),(0,u.jsxs)("a",{target:"_blank",href:a,alt:s.title,rel:"noreferrer noopener",children:[i,"\xa0",(0,u.jsx)(m.AlO,{className:"link-icon"})]})]})}}function v(e){var s=e.comment;return(0,u.jsxs)("div",{className:"comment",children:[(0,u.jsx)("strong",{children:s.author}),(0,u.jsxs)("span",{children:[" - ",o().unix(s.created_utc).fromNow()]}),(0,u.jsx)(h.D,{remarkPlugins:[x.Z],children:s.body})]})}var p=n(9247);function f(e){var s=e.post,n=e.loadComments,d=(0,a.I0)(),m=(0,i.useState)(0),h=(0,t.Z)(m,2),x=h[0],f=h[1],w=(0,i.useState)(!1),N=(0,t.Z)(w,2),k=N[0],g=N[1],b=(0,i.useState)(!1),_=(0,t.Z)(b,2),y=_[0],C=_[1],Z=function(e){1===e?(f(1),g(!0),C(!1)):-1===e&&(f(-1),C(!0),g(!1))},I=s.comments.map((function(e){return(0,u.jsx)(v,{comment:e},e.id)}));return(0,u.jsxs)("div",{className:"card",children:[s.over_18?(0,u.jsxs)("h2",{children:[s.title," ",(0,u.jsx)("span",{className:"nsfw-tag",children:"nsfw"})]}):(0,u.jsx)("h2",{children:s.title}),(0,u.jsxs)("span",{className:"header-info",children:[(0,u.jsx)("strong",{onClick:function(){return d((0,p.Cl)(s.subreddit))},children:s.subreddit_name_prefixed})," - Posted by ",s.author,s.stickied&&(0,u.jsx)(l.UVq,{className:"pinned"})]}),(0,u.jsx)(j,{post:s}),(0,u.jsxs)("div",{className:"post-info",children:[(0,u.jsxs)("div",{className:"votes",children:[(0,u.jsx)("span",{onClick:function(){return Z(1)},className:k?"upvote-active":"upvote","aria-label":"upvote post",children:(0,u.jsx)(c.zay,{})}),(0,u.jsxs)("p",{children:["\xa0",s.ups+x,"\xa0"]}),(0,u.jsx)("span",{onClick:function(){return Z(-1)},className:y?"downvote-active":"downvote","aria-label":"downvote post",children:(0,u.jsx)(c.Ie4,{})})]}),(0,u.jsx)("span",{className:"time-ago",children:o().unix(s.created_utc).fromNow()}),(0,u.jsxs)("div",{className:"comments",onClick:function(){var e=document.getElementById(s.id+"comments");n(s.permalink,s.id),e.style.display="initial"},"aria-label":"show comments",children:[(0,u.jsx)("span",{children:(0,u.jsx)(r.DCG,{})}),(0,u.jsxs)("p",{children:["\xa0",s.num_comments,"\xa0"]})]})]}),(0,u.jsx)("div",{className:"comment-section",id:s.id+"comments",children:I})]})}}}]);
//# sourceMappingURL=804.46205fc3.chunk.js.map