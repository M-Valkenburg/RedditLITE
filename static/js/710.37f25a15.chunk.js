"use strict";(self.webpackChunkreddit_lite=self.webpackChunkreddit_lite||[]).push([[710],{710:function(e,s,n){n.r(s),n.d(s,{default:function(){return N}});var t=n(9439),i=n(2791),a=n(9434),l=n(9126),r=n(6355),c=n(828),o=n(2426),d=n.n(o),m=n(3853),u=n(8356),h=n(1926),x=n(184);function v(e){var s=e.post,n=function(){document.getElementById(s.id+"overlay").style.display="none"},t=function(){var e=document.getElementById(s.id+"text");e.style.overflow="none",e.style.maxHeight="100%"};if(!s.hint&&s.url.includes("www.reddit.com")&&!s.is_gallery)return(0,x.jsxs)("div",{className:"text-container",id:s.id+"text",onClick:t,children:[(0,x.jsx)("div",{className:"content-text",children:(0,x.jsx)(u.D,{remarkPlugins:[h.Z],children:s.selftext})}),(0,x.jsx)("div",{className:"text-overlay",id:s.id+"overlay",onClick:n})]});if(""!==s.selftext)return(0,x.jsxs)("div",{className:"text-container",id:s.id+"text",onClick:t,children:[(0,x.jsx)("div",{className:"content-text",children:(0,x.jsx)(u.D,{remarkPlugins:[h.Z],children:s.selftext})}),(0,x.jsx)("div",{className:"text-overlay",id:s.id+"overlay",onClick:n})]});if("image"===s.post_hint)return(0,x.jsxs)("div",{className:"image-container",onClick:n,children:[(0,x.jsx)("img",{className:"content-img",src:s.url,alt:"",loading:"lazy",decoding:"async"}),s.over_18&&(0,x.jsx)("div",{className:"nsfw-content",id:s.id+"overlay",children:(0,x.jsxs)("span",{children:["nsfw",(0,x.jsx)("br",{}),"click to view"]})})]});if("hosted:video"===s.post_hint)return(0,x.jsxs)("div",{className:"video-container",onClick:n,children:[(0,x.jsx)("video",{className:"content-video",src:s.media.reddit_video.fallback_url,preload:"metadata",controls:!0}),s.over_18&&(0,x.jsx)("div",{className:"nsfw-content",id:s.id+"overlay",children:(0,x.jsxs)("span",{children:["nsfw",(0,x.jsx)("br",{}),"click to view"]})})]});if("link"===s.post_hint||!0===s.is_gallery||"rich:video"===s.post_hint||!s.hint){var i,a=s.url;return a.startsWith("https://www.")?i=a.replace("https://www.","").substring(0,20)+"...":a.startsWith("https://www-")?i=a.replace("https://www-","").substring(0,20)+"...":a.startsWith("https://")&&(i=a.replace("https://","").substring(0,20)+"..."),"default"===s.thumbnail||"nsfw"===s.thumbnail||""===s.thumbnail?(0,x.jsxs)("a",{target:"_blank",href:a,alt:s.title,rel:"noreferrer noopener",children:[i,"\xa0",(0,x.jsx)(m.AlO,{className:"link-icon"})]}):(0,x.jsxs)("div",{className:"link-container",children:[(0,x.jsx)("a",{target:"_blank",href:a,alt:s.title,rel:"noreferrer noopener",children:(0,x.jsxs)("div",{className:"thumbnail-container",children:[(0,x.jsx)("img",{className:"link-image",src:s.thumbnail,alt:""}),s.over_18&&(0,x.jsx)("div",{className:"nsfw-content"})]})}),(0,x.jsxs)("a",{target:"_blank",href:a,alt:s.title,rel:"noreferrer noopener",children:[i,"\xa0",(0,x.jsx)(m.AlO,{className:"link-icon"})]})]})}}var j=function(e){return e<1e3?e:e>=1e3?Math.floor(e/1e3)+"K":e>=1e6?Math.floor(e/1e6)+"M":void 0};function p(e){var s=e.comment,n=(0,i.useState)(0),a=(0,t.Z)(n,2),l=a[0],r=a[1],o=(0,i.useState)(!1),m=(0,t.Z)(o,2),v=m[0],p=m[1],f=(0,i.useState)(!1),w=(0,t.Z)(f,2),N=w[0],k=w[1],g=function(e){1===e?(r(1),p(!0),k(!1)):-1===e&&(r(-1),k(!0),p(!1))};return(0,x.jsxs)("div",{className:"comment",children:[(0,x.jsx)("strong",{children:s.author}),(0,x.jsxs)("span",{children:[" - ",d().unix(s.created_utc).fromNow()]}),(0,x.jsx)(u.D,{remarkPlugins:[h.Z],children:s.body}),(0,x.jsxs)("div",{className:"votes",children:[(0,x.jsx)("span",{onClick:function(){return g(1)},className:v?"upvote-active":"upvote","aria-label":"upvote post",children:(0,x.jsx)(c.zay,{})}),(0,x.jsxs)("p",{children:["\xa0",j(s.ups+l),"\xa0"]}),(0,x.jsx)("span",{onClick:function(){return g(-1)},className:N?"downvote-active":"downvote","aria-label":"downvote post",children:(0,x.jsx)(c.Ie4,{})})]})]})}function f(){return(0,x.jsx)("div",{className:"subreddits-loader"})}var w=n(9247);function N(e){var s=e.post,n=e.loadComments,o=(0,a.I0)(),m=(0,i.useState)(0),u=(0,t.Z)(m,2),h=u[0],N=u[1],k=(0,i.useState)(!1),g=(0,t.Z)(k,2),y=g[0],b=g[1],_=(0,i.useState)(!1),C=(0,t.Z)(_,2),Z=C[0],I=C[1],S=function(e){1===e?(N(1),b(!0),I(!1)):-1===e&&(N(-1),I(!0),b(!1))},B=s.comments.map((function(e){return(0,x.jsx)(i.Suspense,{children:(0,x.jsx)(p,{comment:e})},e.id)}));return(0,x.jsxs)("div",{className:"card",id:s.id,children:[s.over_18?(0,x.jsxs)("h2",{children:[s.title," ",(0,x.jsx)("span",{className:"nsfw-tag",children:"nsfw"})]}):(0,x.jsx)("h2",{children:s.title}),(0,x.jsxs)("span",{className:"header-info",children:[(0,x.jsx)("strong",{onClick:function(){return o((0,w.Cl)(s.subreddit))},children:s.subreddit_name_prefixed})," - Posted by ",s.author,s.stickied&&(0,x.jsx)(l.UVq,{className:"pinned"})]}),(0,x.jsx)(v,{post:s}),(0,x.jsxs)("div",{className:"post-info",children:[(0,x.jsxs)("div",{className:"votes",children:[(0,x.jsx)("span",{onClick:function(){return S(1)},className:y?"upvote-active":"upvote","aria-label":"upvote post",children:(0,x.jsx)(c.zay,{})}),(0,x.jsxs)("p",{children:["\xa0",j(s.ups+h),"\xa0"]}),(0,x.jsx)("span",{onClick:function(){return S(-1)},className:Z?"downvote-active":"downvote","aria-label":"downvote post",children:(0,x.jsx)(c.Ie4,{})})]}),(0,x.jsx)("span",{className:"time-ago",children:d().unix(s.created_utc).fromNow()}),(0,x.jsxs)("div",{className:"comments",onClick:function(){var e=document.getElementById(s.id+"comments");n(s.permalink,s.id),e.style.display="initial"},"aria-label":"show comments",children:[(0,x.jsx)("span",{children:(0,x.jsx)(r.DCG,{})}),(0,x.jsxs)("p",{children:["\xa0",s.num_comments,"\xa0"]})]})]}),(0,x.jsxs)("div",{className:"comment-section",id:s.id+"comments",children:[s.commentsLoading?(0,x.jsx)(f,{}):B,(0,x.jsx)("a",{href:"#"+s.id,className:"hide-comments",onClick:function(){document.getElementById(s.id+"comments").style.display="none"},children:"Hide comments"})]})]})}}}]);
//# sourceMappingURL=710.37f25a15.chunk.js.map