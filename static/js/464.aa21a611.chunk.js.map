{"version":3,"file":"static/js/464.aa21a611.chunk.js","mappings":"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","sources":["components/Card/ContentLoader.js","components/Card/Card.js"],"sourcesContent":["import React from 'react';\r\nimport './ContentLoader.css';\r\nimport { FiExternalLink } from 'react-icons/fi'\r\nimport ReactMarkdown from 'react-markdown'\r\nimport remarkGfm from 'remark-gfm'\r\n\r\nexport default function ContentLoader({ post }) {\r\n    const toggleOverlay = () => {\r\n        const div = document.getElementById(post.id);\r\n        div.style.display = \"none\";\r\n    }\r\n\r\n    if (!post.hint && post.url.includes('www.reddit.com')) {\r\n        return;\r\n    }\r\n\r\n    if (post.selftext !== \"\") {\r\n        const expandText = () => {\r\n            const div = document.getElementById(post.id + 'text');\r\n            div.style.overflow = \"none\";\r\n            div.style.maxHeight = '100%';\r\n        }\r\n\r\n        return (\r\n            <div className=\"text-container\" id={post.id + 'text'} onClick={expandText}>\r\n                <div className=\"content-text\"><ReactMarkdown remarkPlugins={[remarkGfm]}>{post.selftext}</ReactMarkdown></div>\r\n                <div className=\"text-overlay\" id={post.id} onClick={toggleOverlay}></div>\r\n            </div>\r\n        )\r\n    }\r\n \r\n    if (post.post_hint === \"image\") {\r\n        return (\r\n            <div className=\"image-container\" onClick={toggleOverlay}>\r\n                <img className=\"content-img\" id=\"image\" src={post.url} alt=\"\"/>\r\n                {post.over_18 && <div className=\"nsfw-content\" id={post.id}><span>nsfw<br/>click to view</span></div>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (post.post_hint === 'hosted:video') {\r\n        return ( \r\n            <div className=\"video-container\" onClick={toggleOverlay}>\r\n                <video className=\"content-video\" src={post.media.reddit_video.fallback_url} preload=\"metadata\" controls/>\r\n                {post.over_18 && <div className=\"nsfw-content\" id={post.id}><span>nsfw<br/>click to view</span></div>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (post.post_hint === \"link\" || post.url.includes('/gallery/') || post.post_hint === \"rich:video\" || !post.hint) {\r\n        const url = post.url;\r\n        let trimmedLink;\r\n    \r\n        if (url.startsWith(\"https://www.\")) {\r\n            trimmedLink = url.replace(\"https://www.\", \"\").substring(0, 20) + \"...\";\r\n        } else if (url.startsWith(\"https://www-\")) {\r\n            trimmedLink = url.replace(\"https://www-\", \"\").substring(0, 20) + \"...\";\r\n        } else if (url.startsWith(\"https://\")) {\r\n            trimmedLink = url.replace(\"https://\", \"\").substring(0, 20) + \"...\";\r\n        }\r\n\r\n\r\n        if (post.thumbnail === \"default\" || post.thumbnail === \"nsfw\" || post.thumbnail === \"\") {\r\n            return (\r\n                <a target=\"_blank\" href={url} alt={post.title} rel=\"noreferrer noopener\">{trimmedLink}&nbsp;<FiExternalLink className=\"link-icon\"/></a>\r\n            )\r\n        } else {\r\n            return (            \r\n                <div className=\"link-container\">\r\n                    <a target=\"_blank\" href={url} alt={post.title} rel=\"noreferrer noopener\">\r\n                        <div className=\"thumbnail-container\">\r\n                            <img className=\"link-image\" src={post.thumbnail} alt=\"\"/>\r\n                            {post.over_18 && <div className=\"nsfw-content\"></div>}\r\n                        </div>\r\n                    </a>\r\n                    <a target=\"_blank\" href={url} alt={post.title} rel=\"noreferrer noopener\">{trimmedLink}&nbsp;<FiExternalLink className=\"link-icon\"/></a>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport './Card.css';\r\nimport { BsFillPinAngleFill } from 'react-icons/bs';\r\nimport { FaComment } from 'react-icons/fa'\r\nimport { ImArrowUp, ImArrowDown } from 'react-icons/im';\r\nimport moment from 'moment';\r\nimport ContentLoader from './ContentLoader';\r\nimport { setSearchTerm } from '../../features/posts/redditSlice';\r\nimport { fetchComments } from '../../features/comments/commentsSlice';\r\n\r\nexport default function Card({ post, comment }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const [ vote, setVote ] = useState(0);\r\n    const [ upvote, setUpvote ] = useState(false);\r\n    const [ downvote, setDownvote ] = useState(false);\r\n\r\n    const handleVote = (value) => {\r\n        if (value === 1) {\r\n            setVote(+1);\r\n            setUpvote(true);\r\n            setDownvote(false)        \r\n        } else if (value === -1) {\r\n            setVote(-1);\r\n            setDownvote(true);\r\n            setUpvote(false);\r\n        }\r\n    } \r\n\r\n    useEffect(() => {\r\n        setVote(vote);\r\n    }, [vote]);\r\n\r\n    return (\r\n        <div className=\"card\">\r\n            {post.over_18 ? <h2>{post.title} <span className=\"nsfw-tag\">nsfw</span></h2> : <h2>{post.title}</h2>}\r\n            <span className=\"header-info\">\r\n                <strong onClick={() => dispatch(setSearchTerm(post.subreddit))}>{post.subreddit_name_prefixed}</strong> - Posted by {post.author}\r\n                {post.stickied && <BsFillPinAngleFill className=\"pinned\"/>}\r\n            </span>\r\n            <ContentLoader post={post}/>\r\n            <div className=\"post-info\">\r\n                <div className=\"votes\">\r\n                    <span onClick={() => handleVote(1)} className={upvote ? 'upvote-active' : ''}><ImArrowUp/></span>\r\n                    <p>&nbsp;{post.ups + vote}&nbsp;</p>\r\n                    <span onClick={() => handleVote(-1)} className={downvote ? 'downvote-active' : ''}><ImArrowDown/></span>\r\n                </div>\r\n                <span className=\"time-ago\">{moment.unix(post.created_utc).fromNow()}</span>\r\n                <div className=\"comments\" onClick={() => dispatch(fetchComments(post.permalink))}>\r\n                    <span><FaComment /></span>\r\n                    <p>&nbsp;{post.num_comments}&nbsp;</p>\r\n                </div>\r\n            </div>\r\n            <div className=\"comment-section\"></div>\r\n        </div>\r\n    )\r\n};\r\n"],"names":["ContentLoader","post","toggleOverlay","document","getElementById","id","style","display","hint","url","includes","selftext","className","onClick","div","overflow","maxHeight","remarkPlugins","remarkGfm","post_hint","src","alt","over_18","media","reddit_video","fallback_url","preload","controls","trimmedLink","startsWith","replace","substring","thumbnail","target","href","title","rel","Card","dispatch","comment","useDispatch","useState","vote","setVote","upvote","setUpvote","downvote","setDownvote","handleVote","value","useEffect","setSearchTerm","subreddit","subreddit_name_prefixed","author","stickied","ups","moment","created_utc","fromNow","fetchComments","permalink","num_comments"],"sourceRoot":""}