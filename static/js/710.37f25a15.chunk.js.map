{"version":3,"file":"static/js/710.37f25a15.chunk.js","mappings":"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","sources":["components/Card/ContentLoader.js","components/Card/numberReducer.js","components/Card/Comment.js","components/Loader/LoaderSmall.js","components/Card/Card.js"],"sourcesContent":["import React from 'react';\r\nimport './ContentLoader.css';\r\nimport { FiExternalLink } from 'react-icons/fi'\r\nimport ReactMarkdown from 'react-markdown'\r\nimport remarkGfm from 'remark-gfm'\r\n\r\nexport default function ContentLoader({ post }) {\r\n    const toggleOverlay = () => {\r\n        const div = document.getElementById(post.id + 'overlay');\r\n        div.style.display = \"none\";\r\n    }\r\n\r\n    const expandText = () => {\r\n        const div = document.getElementById(post.id + 'text');\r\n        div.style.overflow = \"none\";\r\n        div.style.maxHeight = '100%';\r\n    }\r\n\r\n    if (!post.hint && post.url.includes('www.reddit.com') && !post.is_gallery) {\r\n        return (\r\n            <div className=\"text-container\" id={post.id + 'text'} onClick={expandText}>\r\n                <div className=\"content-text\"><ReactMarkdown remarkPlugins={[remarkGfm]}>{post.selftext}</ReactMarkdown></div>\r\n                <div className=\"text-overlay\" id={post.id + 'overlay'} onClick={toggleOverlay}></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (post.selftext !== \"\") {\r\n        return (\r\n            <div className=\"text-container\" id={post.id + 'text'} onClick={expandText}>\r\n                <div className=\"content-text\"><ReactMarkdown remarkPlugins={[remarkGfm]}>{post.selftext}</ReactMarkdown></div>\r\n                <div className=\"text-overlay\" id={post.id + 'overlay'} onClick={toggleOverlay}></div>\r\n            </div>\r\n        )\r\n    }\r\n \r\n    if (post.post_hint === \"image\") {\r\n        return (\r\n            <div className=\"image-container\" onClick={toggleOverlay}>\r\n                <img className=\"content-img\" src={post.url} alt=\"\" loading=\"lazy\" decoding=\"async\"/>\r\n                {post.over_18 && <div className=\"nsfw-content\" id={post.id + 'overlay'}><span>nsfw<br/>click to view</span></div>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (post.post_hint === 'hosted:video') {\r\n        return ( \r\n            <div className=\"video-container\" onClick={toggleOverlay}>\r\n                <video className=\"content-video\" src={post.media.reddit_video.fallback_url} preload=\"metadata\" controls/>\r\n                {post.over_18 && <div className=\"nsfw-content\" id={post.id + 'overlay'}><span>nsfw<br/>click to view</span></div>}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (post.post_hint === \"link\" || post.is_gallery === true || post.post_hint === \"rich:video\" || !post.hint) {\r\n        const url = post.url;\r\n        let trimmedLink;\r\n    \r\n        if (url.startsWith(\"https://www.\")) {\r\n            trimmedLink = url.replace(\"https://www.\", \"\").substring(0, 20) + \"...\";\r\n        } else if (url.startsWith(\"https://www-\")) {\r\n            trimmedLink = url.replace(\"https://www-\", \"\").substring(0, 20) + \"...\";\r\n        } else if (url.startsWith(\"https://\")) {\r\n            trimmedLink = url.replace(\"https://\", \"\").substring(0, 20) + \"...\";\r\n        }\r\n\r\n\r\n        if (post.thumbnail === \"default\" || post.thumbnail === \"nsfw\" || post.thumbnail === \"\") {\r\n            return (\r\n                <a target=\"_blank\" href={url} alt={post.title} rel=\"noreferrer noopener\">{trimmedLink}&nbsp;<FiExternalLink className=\"link-icon\"/></a>\r\n            )\r\n        } else {\r\n            return (            \r\n                <div className=\"link-container\">\r\n                    <a target=\"_blank\" href={url} alt={post.title} rel=\"noreferrer noopener\">\r\n                        <div className=\"thumbnail-container\">\r\n                            <img className=\"link-image\" src={post.thumbnail} alt=\"\"/>\r\n                            {post.over_18 && <div className=\"nsfw-content\"></div>}\r\n                        </div>\r\n                    </a>\r\n                    <a target=\"_blank\" href={url} alt={post.title} rel=\"noreferrer noopener\">{trimmedLink}&nbsp;<FiExternalLink className=\"link-icon\"/></a>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n};\r\n","export const numberReducer = (num) => {\r\n    if (num < 1000) {\r\n        return num;\r\n    }\r\n\r\n    if (num >= 1000) {\r\n        return Math.floor((num / 1000)) + 'K';\r\n    }\r\n\r\n    if (num >= 1000000) {\r\n        return Math.floor((num / 1000000)) + 'M';\r\n    }\r\n};\r\n\r\nexport default numberReducer;\r\n","import React, { useState } from 'react';\r\nimport './Comment.css'\r\nimport { ImArrowUp, ImArrowDown } from 'react-icons/im';\r\nimport moment from 'moment';\r\nimport ReactMarkdown from 'react-markdown'\r\nimport remarkGfm from 'remark-gfm'\r\nimport { numberReducer } from './numberReducer';\r\n\r\nexport default function Comments({ comment }) {\r\n    const [ vote, setVote ] = useState(0);\r\n    const [ upvote, setUpvote ] = useState(false);\r\n    const [ downvote, setDownvote ] = useState(false);\r\n\r\n    const handleVote = (value) => {\r\n        if (value === 1) {\r\n            setVote(+1);\r\n            setUpvote(true);\r\n            setDownvote(false)        \r\n        } else if (value === -1) {\r\n            setVote(-1);\r\n            setDownvote(true);\r\n            setUpvote(false);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"comment\">\r\n            <strong>{comment.author}</strong><span> - {moment.unix(comment.created_utc).fromNow()}</span>\r\n            <ReactMarkdown remarkPlugins={[remarkGfm]}>{comment.body}</ReactMarkdown>\r\n            <div className=\"votes\">\r\n                <span onClick={() => handleVote(1)} className={upvote ? 'upvote-active' : 'upvote'} aria-label=\"upvote post\"><ImArrowUp/></span>\r\n                <p>&nbsp;{numberReducer(comment.ups + vote)}&nbsp;</p>\r\n                <span onClick={() => handleVote(-1)} className={downvote ? 'downvote-active' : 'downvote'} aria-label=\"downvote post\"><ImArrowDown/></span>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n","import React from 'react';\r\nimport './LoaderSmall.css';\r\n\r\nexport default function SubredditsLoader() {\r\n    return (\r\n        <div className=\"subreddits-loader\"></div>\r\n    )\r\n}\r\n","import React, { useState, Suspense } from 'react';\r\nimport { useDispatch } from 'react-redux';\r\nimport './Card.css';\r\nimport { BsFillPinAngleFill } from 'react-icons/bs';\r\nimport { FaComment } from 'react-icons/fa'\r\nimport { ImArrowUp, ImArrowDown } from 'react-icons/im';\r\nimport moment from 'moment';\r\nimport ContentLoader from './ContentLoader';\r\nimport Comment from './Comment';\r\nimport LoaderSmall from '../Loader/LoaderSmall';\r\nimport { numberReducer } from './numberReducer';\r\nimport { setSearchTerm } from '../../features/posts/redditSlice';\r\n\r\nexport default function Card({ post, loadComments }) {\r\n    const dispatch = useDispatch();\r\n\r\n    const [ vote, setVote ] = useState(0);\r\n    const [ upvote, setUpvote ] = useState(false);\r\n    const [ downvote, setDownvote ] = useState(false);\r\n\r\n    const handleVote = (value) => {\r\n        if (value === 1) {\r\n            setVote(+1);\r\n            setUpvote(true);\r\n            setDownvote(false)        \r\n        } else if (value === -1) {\r\n            setVote(-1);\r\n            setDownvote(true);\r\n            setUpvote(false);\r\n        }\r\n    }\r\n\r\n    const toggleComments = () => {\r\n        const div = document.getElementById(post.id + 'comments');\r\n        loadComments(post.permalink, post.id);\r\n        div.style.display = \"initial\";\r\n    }\r\n\r\n    const displayedComments = post.comments.map(comment => {\r\n        return (\r\n            <Suspense key={comment.id}>\r\n                <Comment\r\n                    comment={comment}\r\n                />\r\n            </Suspense>\r\n        )\r\n    })\r\n\r\n    const hideComments = () => {\r\n        const div = document.getElementById(post.id + 'comments');\r\n        div.style.display = \"none\";\r\n    };\r\n\r\n    return (\r\n        <div className=\"card\" id={post.id}>\r\n            {post.over_18 ? <h2>{post.title} <span className=\"nsfw-tag\">nsfw</span></h2> : <h2>{post.title}</h2>}\r\n            <span className=\"header-info\">\r\n                <strong onClick={() => dispatch(setSearchTerm(post.subreddit))}>{post.subreddit_name_prefixed}</strong> - Posted by {post.author}\r\n                {post.stickied && <BsFillPinAngleFill className=\"pinned\"/>}\r\n            </span>\r\n            <ContentLoader post={post}/>\r\n            <div className=\"post-info\">\r\n                <div className=\"votes\">\r\n                    <span onClick={() => handleVote(1)} className={upvote ? 'upvote-active' : 'upvote'} aria-label=\"upvote post\"><ImArrowUp/></span>\r\n                    <p>&nbsp;{numberReducer(post.ups + vote)}&nbsp;</p>\r\n                    <span onClick={() => handleVote(-1)} className={downvote ? 'downvote-active' : 'downvote'} aria-label=\"downvote post\"><ImArrowDown/></span>\r\n                </div>\r\n                <span className=\"time-ago\">{moment.unix(post.created_utc).fromNow()}</span>\r\n                <div className=\"comments\" onClick={toggleComments} aria-label=\"show comments\">\r\n                    <span><FaComment /></span>\r\n                    <p>&nbsp;{post.num_comments}&nbsp;</p>\r\n                </div>\r\n            </div>       \r\n            <div className=\"comment-section\" id={post.id + 'comments'}>\r\n                {post.commentsLoading ? <LoaderSmall /> : displayedComments}\r\n                <a href={'#' + post.id} className=\"hide-comments\" onClick={hideComments}>Hide comments</a>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n"],"names":["ContentLoader","post","toggleOverlay","document","getElementById","id","style","display","expandText","div","overflow","maxHeight","hint","url","includes","is_gallery","className","onClick","remarkPlugins","remarkGfm","selftext","post_hint","src","alt","loading","decoding","over_18","media","reddit_video","fallback_url","preload","controls","trimmedLink","startsWith","replace","substring","thumbnail","target","href","title","rel","numberReducer","num","Math","floor","Comments","comment","useState","vote","setVote","upvote","setUpvote","downvote","setDownvote","handleVote","value","author","moment","created_utc","fromNow","body","ups","SubredditsLoader","Card","loadComments","dispatch","useDispatch","displayedComments","comments","map","Suspense","setSearchTerm","subreddit","subreddit_name_prefixed","stickied","permalink","num_comments","commentsLoading"],"sourceRoot":""}